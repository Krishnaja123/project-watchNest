<!-- views/editCategory.ejs -->
<%- include("../partials/admin/header") %>

    <head>
        <link rel="stylesheet" href="/css/admin/admin.css">
    </head>

    <body>
        <div class="container">
            <div class="main">
                <h1>Edit Category</h1>

                <div class="form-container">
                    <form action="/admin/editCategory/<%= category._id %>?page=<%= page %>" method="POST">

                        <div class="form-grid">

                            <div class="form-group">
                                <label>Category ID</label>
                                <input type="text" name="_id" value="<%= category._id %>" readonly>
                            </div>

                            <div class="form-group">
                                <label>Name</label>
                                <input type="text" name="name" value="<%= category.name %>" required>
                            </div>

                            <div class="form-group full-width">
                                <label>Description</label>
                                <textarea name="description" rows="4"><%= category.descrip || "" %></textarea>
                            </div>

                        </div>

                        <div class="button-group">
                            <a href="/admin/categories" class="btn btn-cancel">Cancel</a>
                            <button type="submit" class="btn btn-primary">Update</button>
                        </div>

                    </form>
                </div>
            </div>
        </div>

        <%- include("../partials/admin/footer") %>

            <script>
                document.addEventListener("DOMContentLoaded", function () {
                    const message = "<%= message %>";
                    const type = "<%= type %>";
                    if (message) {
                        Swal.fire({
                            icon: type,
                            text: message,
                            confirmButtonColor: '#007bff'
                        });
                    }
                })
            </script>